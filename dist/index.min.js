!function t(e,i,o){function n(s,a){if(!i[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var h=i[s]={exports:{}};e[s][0].call(h.exports,function(t){var i=e[s][1][t];return n(i||t)},h,h.exports,t,e,i,o)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)n(o[s]);return n}({1:[function(t,e,i){function o(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(t){if(c===setTimeout)return setTimeout(t,0);if((c===o||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function s(t){if(p===clearTimeout)return clearTimeout(t);if((p===n||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function a(){A&&f&&(A=!1,f.length?_=f.concat(_):y=-1,_.length&&u())}function u(){if(!A){var t=r(a);A=!0;for(var e=_.length;e;){for(f=_,_=[];++y<e;)f&&f[y].run();y=-1,e=_.length}f=null,A=!1,s(t)}}function l(t,e){this.fun=t,this.array=e}function h(){}var c,p,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:o}catch(t){c=o}try{p="function"==typeof clearTimeout?clearTimeout:n}catch(t){p=n}}();var f,_=[],A=!1,y=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];_.push(new l(t,e)),1!==_.length||A||r(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=h,d.addListener=h,d.once=h,d.off=h,d.removeListener=h,d.removeAllListeners=h,d.emit=h,d.prependListener=h,d.prependOnceListener=h,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],2:[function(t,e,i){(function(t){!function(i){var o=function(){var e=[],o=function(t){return 1===e.push(t)},n=function(){var t=e,i=0,o=e.length;for(e=[];i<o;)t[i++]()};if("function"==typeof setImmediate)return function(t){o(t)&&setImmediate(n)};if("object"==typeof t&&t.nextTick)return function(e){o(e)&&t.nextTick(n)};var r=i.MutationObserver||i.WebKitMutationObserver;if(r){var s=1,a=document.createTextNode("");return new r(n).observe(a,{characterData:!0}),function(t){o(t)&&(a.data=s*=-1)}}if(i.postMessage){var u=!0;if(i.attachEvent){var l=function(){u=!1};i.attachEvent("onmessage",l),i.postMessage("__checkAsync","*"),i.detachEvent("onmessage",l)}if(u){var h="__promise"+ +new Date,c=function(t){t.data===h&&(t.stopPropagation&&t.stopPropagation(),n())};return i.addEventListener?i.addEventListener("message",c,!0):i.attachEvent("onmessage",c),function(t){o(t)&&i.postMessage(h,"*")}}}var p=i.document;if("onreadystatechange"in p.createElement("script")){var d=function(){var t=p.createElement("script");t.onreadystatechange=function(){t.parentNode.removeChild(t),t=t.onreadystatechange=null,n()},(p.documentElement||p.body).appendChild(t)};return function(t){o(t)&&d()}}return function(t){o(t)&&setTimeout(n,0)}}(),n=function(t){o(function(){throw t})},r=function(t){return"function"==typeof t},s=function(t){return null!==t&&"object"==typeof t},a=Object.prototype.toString,u=Array.isArray||function(t){return"[object Array]"===a.call(t)},l=function(t){for(var e=[],i=0,o=t.length;i<o;)e.push(i++);return e},h=Object.keys||function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e},c=function(t,e){return function(i){t.call(this,i,e)}},p=function(){this._promise=new f};p.prototype={promise:function(){return this._promise},resolve:function(t){this._promise.isResolved()||this._promise._resolve(t)},reject:function(t){this._promise.isResolved()||(y.isPromise(t)?(t=t.then(function(t){var e=y.defer();return e.reject(t),e.promise()}),this._promise._resolve(t)):this._promise._reject(t))},notify:function(t){this._promise.isResolved()||this._promise._notify(t)}};var d={PENDING:0,RESOLVED:1,FULFILLED:2,REJECTED:3},f=function(t){if(this._value=void 0,this._status=d.PENDING,this._fulfilledCallbacks=[],this._rejectedCallbacks=[],this._progressCallbacks=[],t){var e=this,i=t.length;t(function(t){e.isResolved()||e._resolve(t)},i>1?function(t){e.isResolved()||e._reject(t)}:void 0,i>2?function(t){e.isResolved()||e._notify(t)}:void 0)}};f.prototype={valueOf:function(){return this._value},isResolved:function(){return this._status!==d.PENDING},isFulfilled:function(){return this._status===d.FULFILLED},isRejected:function(){return this._status===d.REJECTED},then:function(t,e,i,o){var n=new p;return this._addCallbacks(n,t,e,i,o),n.promise()},catch:function(t,e){return this.then(void 0,t,e)},fail:function(t,e){return this.then(void 0,t,e)},always:function(t,e){var i=this,o=function(){return t.call(this,i)};return this.then(o,o,e)},progress:function(t,e){return this.then(void 0,void 0,t,e)},spread:function(t,e,i){return this.then(function(e){return t.apply(this,e)},e,i)},done:function(t,e,i,o){this.then(t,e,i,o).fail(n)},delay:function(t){var e,i=this.then(function(i){var o=new p;return e=setTimeout(function(){o.resolve(i)},t),o.promise()});return i.always(function(){clearTimeout(e)}),i},timeout:function(t){var e=new p,i=setTimeout(function(){e.reject(new y.TimedOutError("timed out"))},t);return this.then(function(t){e.resolve(t)},function(t){e.reject(t)}),e.promise().always(function(){clearTimeout(i)}),e.promise()},_vow:!0,_resolve:function(t){if(!(this._status>d.RESOLVED)){if(t===this)return void this._reject(TypeError("Can't resolve promise with itself"));if(this._status=d.RESOLVED,t&&t._vow)return void(t.isFulfilled()?this._fulfill(t.valueOf()):t.isRejected()?this._reject(t.valueOf()):t.then(this._fulfill,this._reject,this._notify,this));if(s(t)||r(t)){var e;try{e=t.then}catch(t){return void this._reject(t)}if(r(e)){var i=this,o=!1;try{e.call(t,function(t){o||(o=!0,i._resolve(t))},function(t){o||(o=!0,i._reject(t))},function(t){i._notify(t)})}catch(t){o||this._reject(t)}return}}this._fulfill(t)}},_fulfill:function(t){this._status>d.RESOLVED||(this._status=d.FULFILLED,this._value=t,this._callCallbacks(this._fulfilledCallbacks,t),this._fulfilledCallbacks=this._rejectedCallbacks=this._progressCallbacks=void 0)},_reject:function(t){this._status>d.RESOLVED||(this._status=d.REJECTED,this._value=t,this._callCallbacks(this._rejectedCallbacks,t),this._fulfilledCallbacks=this._rejectedCallbacks=this._progressCallbacks=void 0)},_notify:function(t){this._callCallbacks(this._progressCallbacks,t)},_addCallbacks:function(t,e,i,o,n){i&&!r(i)?(n=i,i=void 0):o&&!r(o)&&(n=o,o=void 0);var s;this.isRejected()||(s={defer:t,fn:r(e)?e:void 0,ctx:n},this.isFulfilled()?this._callCallbacks([s],this._value):this._fulfilledCallbacks.push(s)),this.isFulfilled()||(s={defer:t,fn:i,ctx:n},this.isRejected()?this._callCallbacks([s],this._value):this._rejectedCallbacks.push(s)),this._status<=d.RESOLVED&&this._progressCallbacks.push({defer:t,fn:o,ctx:n})},_callCallbacks:function(t,e){var i=t.length;if(i){var n=this.isResolved(),r=this.isFulfilled();o(function(){for(var o,s,a,u=0;u<i;)if(o=t[u++],s=o.defer,a=o.fn){var l,h=o.ctx;try{l=h?a.call(h,e):a(e)}catch(t){s.reject(t);continue}n?s.resolve(l):s.notify(l)}else n?r?s.resolve(e):s.reject(e):s.notify(e)})}}};var _={cast:function(t){return y.cast(t)},all:function(t){return y.all(t)},race:function(t){return y.anyResolved(t)},resolve:function(t){return y.resolve(t)},reject:function(t){return y.reject(t)}};for(var A in _)_.hasOwnProperty(A)&&(f[A]=_[A]);var y={Deferred:p,Promise:f,defer:function(){return new p},when:function(t,e,i,o,n){return y.cast(t).then(e,i,o,n)},fail:function(t,e,i){return y.when(t,void 0,e,i)},always:function(t,e,i){return y.when(t).always(e,i)},progress:function(t,e,i){return y.when(t).progress(e,i)},spread:function(t,e,i,o){return y.when(t).spread(e,i,o)},done:function(t,e,i,o,n){y.when(t).done(e,i,o,n)},isPromise:function(t){return s(t)&&r(t.then)},cast:function(t){return t&&t._vow?t:y.resolve(t)},valueOf:function(t){return t&&r(t.valueOf)?t.valueOf():t},isFulfilled:function(t){return!t||!r(t.isFulfilled)||t.isFulfilled()},isRejected:function(t){return!(!t||!r(t.isRejected))&&t.isRejected()},isResolved:function(t){return!t||!r(t.isResolved)||t.isResolved()},resolve:function(t){var e=y.defer();return e.resolve(t),e.promise()},fulfill:function(t){var e=y.defer(),i=e.promise();return e.resolve(t),i.isFulfilled()?i:i.then(null,function(t){return t})},reject:function(t){var e=y.defer();return e.reject(t),e.promise()},invoke:function(t,e){var o,n=Math.max(arguments.length-1,0);if(n){o=Array(n);for(var r=0;r<n;)o[r++]=arguments[r]}try{return y.resolve(o?t.apply(i,o):t.call(i))}catch(t){return y.reject(t)}},all:function(t){var e=new p,i=u(t),o=i?l(t):h(t),n=o.length,r=i?[]:{};if(!n)return e.resolve(r),e.promise();var s=n;return y._forEach(t,function(t,i){r[o[i]]=t,--s||e.resolve(r)},e.reject,e.notify,e,o),e.promise()},allResolved:function(t){var e=new p,i=u(t),o=i?l(t):h(t),n=o.length,r=i?[]:{};if(!n)return e.resolve(r),e.promise();var s=function(){--n||e.resolve(t)};return y._forEach(t,s,s,e.notify,e,o),e.promise()},allPatiently:function(t){return y.allResolved(t).then(function(){var e,i,o,n,r=u(t),s=r?l(t):h(t),a=s.length,c=0;if(!a)return r?[]:{};for(;c<a;)o=s[c++],n=t[o],y.isRejected(n)?(e||(e=r?[]:{}),r?e.push(n.valueOf()):e[o]=n.valueOf()):e||((i||(i=r?[]:{}))[o]=y.valueOf(n));if(e)throw e;return i})},any:function(t){var e=new p,i=t.length;if(!i)return e.reject(Error()),e.promise();var o,n=0;return y._forEach(t,e.resolve,function(t){n||(o=t),++n===i&&e.reject(o)},e.notify,e),e.promise()},anyResolved:function(t){var e=new p;return t.length?(y._forEach(t,e.resolve,e.reject,e.notify,e),e.promise()):(e.reject(Error()),e.promise())},delay:function(t,e){return y.resolve(t).delay(e)},timeout:function(t,e){return y.resolve(t).timeout(e)},_forEach:function(t,e,i,o,n,r){for(var s=r?r.length:t.length,a=0;a<s;)y.when(t[r?r[a]:a],c(e,a),i,o,n),++a},TimedOutError:function(t){var e=function(e){this.name=t,this.message=e};return e.prototype=new Error,e}("TimedOut")},E=!0;"object"==typeof e&&"object"==typeof e.exports&&(e.exports=y,E=!1),"object"==typeof modules&&r(modules.define)&&(modules.define("vow",function(t){t(y)}),E=!1),"function"==typeof define&&(define(function(t,e,i){i.exports=y}),E=!1),E&&(i.vow=y)}(this)}).call(this,t("_process"))},{_process:1}],3:[function(t,e,i){var o=t("./logger/logger"),n=new o("Audio"),r=t("./lib/async/events"),s=t("./lib/async/promise"),a=t("./lib/async/deferred"),u=t("./lib/browser/detect"),l=t("./config"),h=t("./lib/data/merge"),c=t("./lib/async/reject"),p=t("./error/audio-error"),d=t("./audio-static"),f=1,_={html5:t("./html5/audio-html5"),flash:t("./flash/audio-flash")},A="@"+u.platform.version+" "+u.platform.os+":"+u.browser.name+"/"+u.browser.version;_.flash.priority=0,_.html5.priority=l.html5.blacklist.some(function(t){return A.match(t)})?-1:1,setTimeout(function(){n.info({flash:{available:_.flash.available,priority:_.flash.priority},html5:{available:_.html5.available,priority:_.html5.priority,audioContext:!!_.html5.audioContext}},"audioTypes")},0);var y=function(t,e){this.name=f++,DEV&&n.debug(this,"constructor"),r.call(this),this.preferredType=t,this.overlay=e,this.state=y.STATE_INIT,this._played=0,this._lastSkip=0,this._playId=null,this._initInProgress=!0,this._whenReady=new a,this.whenReady=this._whenReady.promise().then(function(){this._initInProgress=!1,n.info(this,"implementation found",this.implementation.type),this.implementation.on("*",function(t,e,i){if(this._populateEvents(t,e,i),!e)switch(t){case y.EVENT_PLAY:this._setState(y.STATE_PLAYING);break;case y.EVENT_ENDED:case y.EVENT_SWAP:case y.EVENT_STOP:case y.EVENT_ERROR:n.info(this,"onEnded",t,i),this._setState(y.STATE_IDLE);break;case y.EVENT_PAUSE:this._setState(y.STATE_PAUSED);break;case y.EVENT_CRASHED:this._setState(y.STATE_CRASHED)}}.bind(this)),this._setState(y.STATE_IDLE)}.bind(this),function(t){throw this._initInProgress=!1,n.error(this,p.NO_IMPLEMENTATION,t),this._setState(y.STATE_CRASHED),t}.bind(this)),this._init(0)};r.mixin(y),h(y,d,!0),y.info={html5:_.html5.available,flash:_.flash.available},y.audioContext=_.html5.audioContext,y.prototype._setState=function(t){if(DEV&&n.debug(this,"_setState",t),t!==y.STATE_PAUSED||this.state===y.STATE_PLAYING){var e=this.state!==t;this.state=t,e&&(n.info(this,"newState",t),this.trigger(y.EVENT_STATE,t))}},y.prototype._init=function(t){function e(){var n=i.shift();if(!n)return void o._init(t+1);o._initType(n).then(o._whenReady.resolve,e)}if(t=t||0,n.info(this,"_init",t),this._initInProgress){t>l.audio.retry&&(n.error(this,p.NO_IMPLEMENTATION),this._whenReady.reject(new p(p.NO_IMPLEMENTATION)));var i=[_.html5,_.flash].sort(function(t,e){return t.available!==e.available?t.available?-1:1:t.AudioImplementation.type===this.preferredType?-1:e.AudioImplementation.type===this.preferredType?1:e.priority-t.priority}.bind(this)),o=this;e()}},y.prototype._initType=function(t){n.info(this,"_initType",t);var e=new a;try{this.implementation=new t.AudioImplementation(this.overlay),this.implementation.whenReady?this.implementation.whenReady.then(e.resolve,e.reject):e.resolve()}catch(i){e.reject(i),n.warn(this,"_initTypeError",t,i)}return e.promise()},y.prototype._waitEvents=function(t,e,i){var o=new a,n=this;this[t]=o;var r=function(){e.forEach(function(t){n.off(t,o.resolve)}),i.forEach(function(t){n.off(t,o.reject)}),delete n[t]};return e.forEach(function(t){n.on(t,o.resolve)}),i.forEach(function(t){n.on(t,function(e){var i=e instanceof Error?e:new p(e||t);o.reject(i)})}),o.promise().then(r,r),o.promise()},y.prototype._populateEvents=function(t,e,i){t!==y.EVENT_PROGRESS&&DEV&&n.debug(this,"_populateEvents",t,e,i);var o=(e?y.PRELOADER_EVENT:"")+t;switch(t){case y.EVENT_CRASHED:case y.EVENT_SWAP:this.trigger(t,i);break;case y.EVENT_ERROR:n.error(this,"error",o,i),this.trigger(o,i);break;case y.EVENT_VOLUME:this.trigger(t,this.getVolume());break;case y.EVENT_PROGRESS:this.trigger(o,{duration:this.getDuration(e),loaded:this.getLoaded(e),position:e?0:this.getPosition(),rate:e?0:this.getRate(),played:e?0:this.getPlayed()});break;default:this.trigger(o)}},y.prototype.initPromise=function(){return this.whenReady},y.prototype.getState=function(){return this.state},y.prototype.getType=function(){return this.implementation&&this.implementation.type},y.prototype.getSrc=function(t){return this.implementation&&this.implementation.getSrc(t)},y.prototype.play=function(t,e){n.info(this,"play",n._showUrl(t),e),this._played=0,this._lastSkip=0,this._generatePlayId(),this._whenPlay&&this._whenPlay.reject("play"),this._whenPause&&this._whenPause.reject("play"),this._whenStop&&this._whenStop.reject("play");var i=this._waitEvents("_whenPlay",[y.EVENT_PLAY],[y.EVENT_STOP,y.EVENT_ERROR,y.EVENT_CRASHED]);return i.abort=function(){this._whenPlay&&(this._whenPlay.reject.apply(this._whenPlay,arguments),this.stop())}.bind(this),this._setState(y.STATE_PAUSED),this.implementation.play(t,e),i},y.prototype.restart=function(){return this.getDuration()?(this._generatePlayId(),this.setPosition(0),this._played=0,this._lastSkip=0,this.resume()):c(new p(p.BAD_STATE))},y.prototype.stop=function(t){if(n.info(this,"stop",t),0!==t)return this.implementation.stop(t);this._played=0,this._lastSkip=0,this._whenPlay&&this._whenPlay.reject("stop"),this._whenPause&&this._whenPause.reject("stop");var e;return e=this._whenStop?this._whenStop.promise():this._waitEvents("_whenStop",[y.EVENT_STOP],[y.EVENT_PLAY,y.EVENT_ERROR,y.EVENT_CRASHED]),this.implementation.stop(),e},y.prototype.pause=function(){if(n.info(this,"pause"),this.state!==y.STATE_PLAYING)return c(new p(p.BAD_STATE));var t;return this._whenPlay&&this._whenPlay.reject("pause"),t=this._whenPause?this._whenPause.promise():this._waitEvents("_whenPause",[y.EVENT_PAUSE],[y.EVENT_STOP,y.EVENT_PLAY,y.EVENT_ERROR,y.EVENT_CRASHED]),this.implementation.pause(),t},y.prototype.resume=function(){if(n.info(this,"resume"),this.state===y.STATE_PLAYING&&!this._whenPause)return s.resolve();if(this.state!==y.STATE_IDLE&&this.state!==y.STATE_PAUSED&&this.state!==y.STATE_PLAYING)return c(new p(p.BAD_STATE));var t;return this._whenPause&&this._whenPause.reject("resume"),this._whenPlay?t=this._whenPlay.promise():(t=this._waitEvents("_whenPlay",[y.EVENT_PLAY],[y.EVENT_STOP,y.EVENT_ERROR,y.EVENT_CRASHED]),t.abort=function(){this._whenPlay&&(this._whenPlay.reject.apply(this._whenPlay,arguments),this.stop())}.bind(this)),this.implementation.resume(),t},y.prototype.playPreloaded=function(t){if(n.info(this,"playPreloaded",n._showUrl(t)),t||(t=this.getSrc(1)),!this.isPreloaded(t))return n.warn(this,"playPreloadedBadTrack",p.NOT_PRELOADED),c(new p(p.NOT_PRELOADED));this._played=0,this._lastSkip=0,this._generatePlayId(),this._whenPlay&&this._whenPlay.reject("playPreloaded"),this._whenPause&&this._whenPause.reject("playPreloaded"),this._whenStop&&this._whenStop.reject("playPreloaded");var e=this._waitEvents("_whenPlay",[y.EVENT_PLAY],[y.EVENT_STOP,y.EVENT_ERROR,y.EVENT_CRASHED]);return e.abort=function(){this._whenPlay&&(this._whenPlay.reject.apply(this._whenPlay,arguments),this.stop())}.bind(this),this._setState(y.STATE_PAUSED),this.implementation.playPreloaded()||(n.warn(this,"playPreloadedError",p.NOT_PRELOADED),this._whenPlay.reject(new p(p.NOT_PRELOADED))),e},y.prototype.preload=function(t,e){if(u.tv||"msie"===u.browser.name&&"9"==u.browser.version[0])return c(new p(p.NOT_PRELOADED));n.info(this,"preload",n._showUrl(t),e),this._whenPreload&&this._whenPreload.reject("preload");var i=this._waitEvents("_whenPreload",[y.PRELOADER_EVENT+y.EVENT_LOADING,y.EVENT_SWAP],[y.PRELOADER_EVENT+y.EVENT_CRASHED,y.PRELOADER_EVENT+y.EVENT_ERROR,y.PRELOADER_EVENT+y.EVENT_STOP]);return i.abort=function(){this._whenPreload&&(this._whenPreload.reject.apply(this._whenPreload,arguments),this.stop(1))}.bind(this),this.implementation.preload(t,e),i},y.prototype.isPreloaded=function(t){return this.implementation.isPreloaded(t)},y.prototype.isPreloading=function(t){return this.implementation.isPreloading(t,1)},y.prototype.getRate=function(){return this.implementation.getRate()},y.prototype.setRate=function(t){return this.implementation.setRate(t),t},y.prototype.getPosition=function(){return this.implementation.getPosition()||0},y.prototype.setPosition=function(t){return n.info(this,"setPosition",t),t=Math.max(0,Math.min(this.implementation.getMaxSeekablePosition()-1,t)),this._played+=this.getPosition()-this._lastSkip,this._lastSkip=t,this.implementation.setPosition(t),t},y.prototype.getDuration=function(t){return this.implementation.getDuration(t?1:0)||0},y.prototype.getLoaded=function(t){return this.implementation.getLoaded(t?1:0)||0},y.prototype.getPlayed=function(){var t=this.getPosition();return this._played+=t-this._lastSkip,this._lastSkip=t,this._played},y.prototype.getVolume=function(){return this.implementation?this.implementation.getVolume():0},y.prototype.setVolume=function(t){return DEV&&n.debug(this,"setVolume",t),this.implementation?this.implementation.setVolume(t):0},y.prototype.isDeviceVolume=function(){return!this.implementation||this.implementation.isDeviceVolume()},y.prototype.isAutoplayable=function(){return this.implementation&&this.implementation.isAutoplayable()},y.prototype.toggleCrossDomain=function(t){return"html5"!==this.implementation.type?(n.warn(this,"toggleCrossDomainFailed",this.implementation.type),!1):(this.implementation.toggleCrossDomain(t),!0)},y.prototype.toggleWebAudioAPI=function(t){return n.info(this,"toggleWebAudioAPI",t),"html5"!==this.implementation.type?(n.warn(this,"toggleWebAudioAPIFailed",this.implementation.type),!1):this.implementation.toggleWebAudioAPI(t)},y.prototype.setAudioPreprocessor=function(t){return n.info(this,"setAudioPreprocessor"),"html5"!==this.implementation.type?(n.warn(this,"setAudioPreprocessorFailed",this.implementation.type),!1):this.implementation.setAudioPreprocessor(t)},y.prototype._generatePlayId=function(){this._playId=Math.random().toString().slice(2)},y.prototype.getPlayId=function(){return this._playId},y.prototype._logger=function(){return{index:this.implementation&&this.implementation.name,src:this.implementation&&this.implementation._logger(),type:this.implementation&&this.implementation.type}},e.exports=y},{"./audio-static":4,"./config":5,"./error/audio-error":6,"./flash/audio-flash":10,"./html5/audio-html5":26,"./lib/async/deferred":28,"./lib/async/events":29,"./lib/async/promise":30,"./lib/async/reject":31,"./lib/browser/detect":33,"./lib/data/merge":38,"./logger/logger":44}],4:[function(t,e,i){var o={};o.EVENT_PLAY="play",o.EVENT_STOP="stop",o.EVENT_PAUSE="pause",o.EVENT_PROGRESS="progress",o.EVENT_LOADING="loading",o.EVENT_LOADED="loaded",o.EVENT_VOLUME="volumechange",o.EVENT_ENDED="ended",o.EVENT_CRASHED="crashed",o.EVENT_ERROR="error",o.EVENT_STATE="state",o.EVENT_SWAP="swap",o.PRELOADER_EVENT="preloader:",o.STATE_INIT="init",o.STATE_CRASHED="crashed",o.STATE_IDLE="idle",o.STATE_PLAYING="playing",o.STATE_PAUSED="paused",e.exports=o},{}],5:[function(t,e,i){var o={audio:{retry:3},flash:{path:"dist",name:"player-2_1.swf",version:"9.0.28",playerID:"YandexAudioFlashPlayer",callback:"ya.music.Audio._flashCallback",initTimeout:3e3,loadTimeout:5e3,clickTimeout:1e3,heartBeatInterval:1e3},html5:{blacklist:["linux:mozilla","unix:mozilla","macos:mozilla",":opera","@NT 5","@NT 4",":msie/9"]}};e.exports=o},{}],6:[function(t,e,i){var o=t("../lib/class/error-class"),n=function(t){o.call(this,t)};n.prototype=o.create("AudioError"),n.NO_IMPLEMENTATION="cannot find suitable implementation",n.NOT_PRELOADED="track is not preloaded",n.BAD_STATE="action is not permited from current state",n.FLASH_BLOCKER="flash is rejected by flash blocker plugin",n.FLASH_UNKNOWN_CRASH="flash is crashed without reason",n.FLASH_INIT_TIMEOUT="flash init timed out",n.FLASH_INTERNAL_ERROR="flash internal error",n.FLASH_EMMITER_NOT_FOUND="flash event emmiter not found",n.FLASH_NOT_RESPONDING="flash player doesn't response",e.exports=n},{"../lib/class/error-class":35}],7:[function(t,e,i){t("../export");var o=t("./audio-error"),n=t("./playback-error");ya.music.Audio.AudioError=o,ya.music.Audio.PlaybackError=n},{"../export":9,"./audio-error":6,"./playback-error":8}],8:[function(t,e,i){var o=t("../lib/class/error-class"),n=function(t,e){o.call(this,t),this.src=e};n.prototype=o.create("PlaybackError"),n.CONNECTION_ABORTED="Connection aborted",n.NETWORK_ERROR="Network error",n.DECODE_ERROR="Decode error",n.BAD_DATA="Bad data",n.DONT_START="Playback start error",n.html5={1:n.CONNECTION_ABORTED,2:n.NETWORK_ERROR,3:n.DECODE_ERROR,4:n.BAD_DATA},e.exports=n},{"../lib/class/error-class":35}],9:[function(t,e,i){"undefined"==typeof DEV&&(window.DEV=!0),void 0===window.ya&&(window.ya={});var o=window.ya;void 0===o.music&&(o.music={}),void 0===o.music.Audio&&(o.music.Audio={});var n=t("./config"),r=t("./audio-player"),s=t("./lib/class/proxy");o.music.Audio=s.createClass(r),o.music.Audio.config=n,t("./lib/export"),e.exports=o.music.Audio},{"./audio-player":3,"./config":5,"./lib/class/proxy":36,"./lib/export":39}],10:[function(t,e,i){var o,n=t("../config"),r=t("../lib/browser/swfobject"),s=t("../lib/browser/detect"),a=t("../logger/logger"),u=new a("AudioFlash"),l=t("./flash-manager"),h=t("./flash-interface"),c=t("../lib/async/events"),p=1,d=r.getFlashPlayerVersion();s.flashVersion=d.major+"."+d.minor+"."+d.release,i.available=r.hasFlashPlayerVersion(n.flash.version),u.info(this,"detection",i.available);var f=function(t,e){this.name=p++,DEV&&u.debug(this,"constructor"),o&&!e||(o=new l(t)),c.call(this),this.whenReady=o.createPlayer(this),this.whenReady.then(function(t){u.info(this,"ready",t)}.bind(this),function(t){u.error(this,"failed",t)}.bind(this))};c.mixin(f),i.type=f.type=f.prototype.type="flash",Object.keys(h.prototype).filter(function(t){return h.prototype.hasOwnProperty(t)&&"_"!==t[0]}).map(function(t){f.prototype[t]=function(){if(/^get/.test(t)||DEV&&u.debug(this,t),!this.hasOwnProperty("id"))return u.warn(this,"player is not ready"),null;var e=[].slice.call(arguments);return e.unshift(this.id),o.flash[t].apply(o.flash,e)}}),f.prototype.isDeviceVolume=function(){return!1},f.prototype._logger=function(){try{return this.hasOwnProperty("id")?{main:u._showUrl(this.getSrc(0)),preloader:u._showUrl(this.getSrc(1))}:{main:"not ready",preloader:"not ready"}}catch(t){return""}},i.AudioImplementation=f},{"../config":5,"../lib/async/events":29,"../lib/browser/detect":33,"../lib/browser/swfobject":34,"../logger/logger":44,"./flash-interface":11,"./flash-manager":12}],11:[function(t,e,i){var o=t("../logger/logger"),n=new o("FlashInterface"),r=function(t){this.flash=ya.music.Audio._flash=t};r.prototype._callFlash=function(t){try{return this.flash.call.apply(this.flash,arguments)}catch(t){return n.error(this,"_callFlashError",t,arguments[0],arguments[1],arguments[2]),null}},r.prototype._heartBeat=function(){this._callFlash("heartBeat",-1)},r.prototype._addPlayer=function(){return this._callFlash("addPlayer",-1)},r.prototype.setVolume=function(t,e){this._callFlash("setVolume",-1,e)},r.prototype.getVolume=function(){return this._callFlash("getVolume",-1)},r.prototype.play=function(t,e,i){this._callFlash("play",t,e,i&&1e3*i)},r.prototype.stop=function(t,e){this._callFlash("stop",t,e||0)},r.prototype.pause=function(t){this._callFlash("pause",t)},r.prototype.resume=function(t){this._callFlash("resume",t)},r.prototype.getPosition=function(t){return this._callFlash("getPosition",t)},r.prototype.setPosition=function(t,e){this._callFlash("setPosition",t,e)},r.prototype.getDuration=function(t,e){return this._callFlash("getDuration",t,e||0)},r.prototype.getLoaded=function(t,e){return this._callFlash("getLoaded",t,e||0)},r.prototype.getMaxSeekablePosition=function(t,e){return this.getLoaded(t,e)},r.prototype.preload=function(t,e,i,o){return this._callFlash("preload",t,e,i&&1e3*i,null==o?1:o)},r.prototype.isPreloaded=function(t,e,i){return this._callFlash("isPreloaded",t,e,null==i?1:i)},r.prototype.isPreloading=function(t,e,i){return this._callFlash("isPreloading",t,e,null==i?1:i)},r.prototype.playPreloaded=function(t,e){return this._callFlash("playPreloaded",t,null==e?1:e)},r.prototype.getSrc=function(t,e){return this._callFlash("getSrc",t,e||0)},r.prototype.isAutoplayable=function(){return!0},e.exports=r},{"../logger/logger":44}],12:[function(t,e,i){var o=t("../logger/logger"),n=new o("FlashManager"),r=t("../config"),s=t("../audio-static"),a=t("./loader"),u=t("./flash-interface"),l=t("../lib/async/promise"),h=t("../lib/async/deferred"),c=t("../error/audio-error"),p=t("../lib/net/error/loader-error"),d=function(t){DEV&&n.debug(this,"constructor",t),this.state="init",this.overlay=t,this.emmiters=[];var e=this.deferred=new h;this.whenReady=this.deferred.promise();var i=r.flash.callback.split("."),o=i.pop(),s=window;if(i.forEach(function(t){s[t]||(s[t]={}),s=s[t]}),s[o]=this._onEvent.bind(this),this.__loadTimeout=setTimeout(this._onLoadTimeout.bind(this),r.flash.loadTimeout),a(r.flash.path+"/"+r.flash.name,r.flash.version,r.flash.playerID,this._onLoad.bind(this),{},t),t){var u;t.addEventListener("mousedown",function(){u=u||setTimeout(function(){e.reject(new c(c.FLASH_NOT_RESPONDING))},r.flash.clickTimeout)},!0)}this.whenReady.then(function(t){u=u&&clearTimeout(u),n.info(this,"ready",t)}.bind(this),function(t){n.error(this,"failed",t)}.bind(this))};d.EVENT_INIT="init",d.EVENT_FAIL="failed",d.EVENT_ERROR="error",d.EVENT_DEBUG="debug",d.prototype._onLoad=function(t){DEV&&n.debug(this,"_onLoad",t),clearTimeout(this.__loadTimeout),delete this.__loadTimeout,t.success?(this.flash=new u(t.ref),"ready"===this.state?this.deferred.resolve(t.ref):this.overlay||(this.__initTimeout=setTimeout(this._onInitTimeout.bind(this),r.flash.initTimeout))):(this.state="failed",this.deferred.reject(new c(t.__fbn?c.FLASH_BLOCKER:c.FLASH_UNKNOWN_CRASH)))},d.prototype._onLoadTimeout=function(){this.state="failed",this.deferred.reject(new p(p.TIMEOUT))},d.prototype._onInitTimeout=function(){this.state="failed",this.deferred.reject(new c(c.FLASH_INIT_TIMEOUT))},d.prototype._onInit=function(){DEV&&n.debug(this,"_onInit"),this.state="ready",this.__initTimeout&&(clearTimeout(this.__initTimeout),delete this.__initTimeout),this.flash&&(this.deferred.resolve(this.flash),this.__heartbeat=setInterval(this._onHeartBeat.bind(this),1e3))},d.prototype._onEvent=function(t,e,i,o){return"failed"===this.state?void n.warn(this,"onEventFailed",t,e,i,o):(t===d.EVENT_DEBUG?n.info(this,"flashDEBUG",e,i,o):t===d.EVENT_ERROR?n.warn(this,"flashError",e,i,o):DEV&&n.debug(this,"onEvent",t,e,i),t===d.EVENT_INIT?this._onInit():t===d.EVENT_FAIL?(n.error(this,"failed",c.FLASH_INTERNAL_ERROR),void this.deferred.reject(new c(c.FLASH_INTERNAL_ERROR))):void(-1==e?l.resolve().then(function(){this.emmiters.forEach(function(e){e.trigger(t,i,o)})}.bind(this)):this.emmiters[e]?l.resolve().then(function(){this.emmiters[e].trigger(t,i,o)}.bind(this)):n.error(this,c.FLASH_EMMITER_NOT_FOUND,e)))},d.prototype._onHeartBeat=function(){try{this.flash._heartBeat()}catch(t){n.error(this,"crashed",t),this._onEvent(s.EVENT_CRASHED,-1,t)}},d.prototype.createPlayer=function(t){DEV&&n.debug(this,"createPlayer");var e=this.whenReady.then(function(){return t.id=this.flash._addPlayer(),this.emmiters[t.id]=t,t.id}.bind(this));return e.then(function(t){DEV&&n.debug(this,"createPlayerSuccess",t)}.bind(this),function(t){n.error(this,"createPlayerError",t)}.bind(this)),e},e.exports=d},{"../audio-static":4,"../config":5,"../error/audio-error":6,"../lib/async/deferred":28,"../lib/async/promise":30,"../lib/net/error/loader-error":41,"../logger/logger":44,"./flash-interface":11,"./loader":15}],13:[function(t,e,i){function o(t){t.parentNode.removeChild(t)}var n=t("../lib/browser/swfobject"),r={__SWF_WRAPPER_CLASS:"fbn-swf-wrapper",__TIMEOUT:500,__TESTS:[function(t,e){return e.childNodes.length>1},function(t){return t.type&&"application/x-shockwave-flash"!=t.type},function(t){return!t.parentNode},function(t){return t.parentNode.className.indexOf("CTFnodisplay")>-1}],embedSWF:function(t,e,i,s,a,u,l,h,c,p,d){n&&n.addDomLoadEvent(function(){var f=document.getElementById(e);if(f){var _=document.createElement("div");_.className=r.__SWF_WRAPPER_CLASS,f.parentNode.replaceChild(_,f),_.appendChild(f),n.embedSWF(t,e,i,s,a,u,l,h,c,function(t){function i(t){if(!1!==d){n.removeSWF(e),o(_);var i=document.getElementById("CTFstack");i&&o(i);var r=document.body.lastChild;r&&"ujs_flashblock_placeholder"==r.className&&o(r)}t.success=!1,t.__fbn=!0,p(t)}if(t&&!1!==t.success){var s=t.ref,a=!1;try{a=s&&s.getSVGDocument&&s.getSVGDocument()}catch(t){}a?i(t):window.setTimeout(function(){for(var e=r.__TESTS,o=0,n=e.length;o<n;o++)if(e[o](s,_))return void i(t);p(t)},r.__TIMEOUT)}else p(t)})}})}};e.exports=r},{"../lib/browser/swfobject":34}],14:[function(t,e,i){var o=t("../lib/browser/swfobject"),n={__SWF_WRAPPER_CLASS:"femb-swf-wrapper",__TIMEOUT:500,embedSWF:function(t,e,i,r,s,a,u,l,h,c){o.addDomLoadEvent(function(){var p=document.getElementById(e);if(p){var d=document.createElement("div");d.className=n.__SWF_WRAPPER_CLASS,p.parentNode.replaceChild(d,p),d.appendChild(p),o.embedSWF(t,e,i,r,s,a,u,l,h,function(t){if(t&&!1!==t.success){var e=t.ref,i=!1;try{i=e&&e.getSVGDocument&&e.getSVGDocument()}catch(t){}i?function(t){t.success=!1,c(t)}(t):window.setTimeout(function(){c(t)},n.__TIMEOUT)}else c(t)})}})}};e.exports=n},{"../lib/browser/swfobject":34}],15:[function(t,e,i){var o=t("./flashblocknotifier"),n=t("./flashembedder"),r=t("../lib/browser/detect"),s="windows"===r.platform.os&&"safari"===r.browser.name;e.exports=function(t,e,i,r,a,u,l,h){var c=document.createElement("div");c.id="wrapper_"+i,c.innerHTML='<div id="'+i+'"></div>',
l=l||"1000",h=h||"1000";var p,d,f,_;return u&&!s?(p=n,d=l,f=h,_={allowscriptaccess:"always",wmode:"transparent"},c.className="ya-flash-player-wrapper",c.style.cssText="position: relative; width: 100%; height: 100%; overflow: hidden;",u.appendChild(c)):(p=o,d=f="1",_={allowscriptaccess:"always"},c.style.cssText="position: absolute; left: -1px; top: -1px; width: 0px; height: 0px; overflow: hidden;",document.body.appendChild(c)),p.embedSWF(t,i,d,f,e,"",a,_,{},r),c}},{"../lib/browser/detect":33,"./flashblocknotifier":13,"./flashembedder":14}],16:[function(t,e,i){e.exports=[60,170,310,600,1e3,3e3,6e3,12e3,14e3,16e3]},{}],17:[function(t,e,i){e.exports=[{id:"default",preamp:0,bands:[0,0,0,0,0,0,0,0,0,0]},{id:"Classical",preamp:-.5,bands:[-.5,-.5,-.5,-.5,-.5,-.5,-3.5,-3.5,-3.5,-4.5]},{id:"Club",preamp:-3.359999895095825,bands:[-.5,-.5,4,2.5,2.5,2.5,1.5,-.5,-.5,-.5]},{id:"Dance",preamp:-2.1599998474121094,bands:[4.5,3.5,1,-.5,-.5,-2.5,-3.5,-3.5,-.5,-.5]},{id:"Full Bass",preamp:-3.5999999046325684,bands:[4,4.5,4.5,2.5,.5,-2,-4,-5,-5.5,-5.5]},{id:"Full Bass & Treble",preamp:-5.039999961853027,bands:[3.5,2.5,-.5,-3.5,-2,.5,4,5.5,6,6]},{id:"Full Treble",preamp:-6,bands:[-4.5,-4.5,-4.5,-2,1,5.5,8,8,8,8]},{id:"Laptop Speakers / Headphone",preamp:-4.079999923706055,bands:[2,5.5,2.5,-1.5,-1,.5,2,4.5,6,7]},{id:"Large Hall",preamp:-3.5999999046325684,bands:[5,5,2.5,2.5,-.5,-2,-2,-2,-.5,-.5]},{id:"Live",preamp:-2.6399998664855957,bands:[-2,-.5,2,2.5,2.5,2.5,2,1,1,1]},{id:"Party",preamp:-2.6399998664855957,bands:[3.5,3.5,-.5,-.5,-.5,-.5,-.5,-.5,3.5,3.5]},{id:"Pop",preamp:-3.119999885559082,bands:[-.5,2,3.5,4,2.5,-.5,-1,-1,-.5,-.5]},{id:"Reggae",preamp:-4.079999923706055,bands:[-.5,-.5,-.5,-2.5,-.5,3,3,-.5,-.5,-.5]},{id:"Rock",preamp:-5.039999961853027,bands:[4,2,-2.5,-4,-1.5,2,4,5.5,5.5,5.5]},{id:"Ska",preamp:-5.519999980926514,bands:[-1,-2,-2,-.5,2,2.5,4,4.5,5.5,4.5]},{id:"Soft",preamp:-4.799999713897705,bands:[2,.5,-.5,-1,-.5,2,4,4.5,5.5,6]},{id:"Soft Rock",preamp:-2.6399998664855957,bands:[2,2,1,-.5,-2,-2.5,-1.5,-.5,1,4]},{id:"Techno",preamp:-3.8399999141693115,bands:[4,2.5,-.5,-2.5,-2,-.5,4,4.5,4.5,4]}]},{}],18:[function(t,e,i){var o=t("../../lib/async/events"),n=t("./equalizer-static"),r=function(t,e,i){o.call(this),this.type=e,this.filter=t.createBiquadFilter(),this.filter.type=e,this.filter.frequency.value=i,this.filter.Q.value=1,this.filter.gain.value=0};o.mixin(r),r.prototype.getFreq=function(){return this.filter.frequency.value},r.prototype.getValue=function(){return this.filter.gain.value},r.prototype.setValue=function(t){this.filter.gain.value=t,this.trigger(n.EVENT_CHANGE,t)},e.exports=r},{"../../lib/async/events":29,"./equalizer-static":19}],19:[function(t,e,i){var o={};o.EVENT_CHANGE="change",e.exports=o},{}],20:[function(t,e,i){var o=t("../../lib/async/events"),n=t("../../lib/data/merge"),r=t("./equalizer-static"),s=t("./equalizer-band"),a=function(t,e){o.call(this),this.preamp=new s(t,"highshelf",0),this.preamp.on("*",this._onBandEvent.bind(this,this.preamp)),e=e||a.DEFAULT_BANDS;var i;this.bands=e.map(function(o,n){var r=new s(t,0==n?"lowshelf":n+1<e.length?"peaking":"highshelf",o);return r.on("*",this._onBandEvent.bind(this,r)),i?i.filter.connect(r.filter):this.preamp.filter.connect(r.filter),i=r,r}.bind(this)),this.input=this.preamp.filter,this.output=this.bands[this.bands.length-1].filter};o.mixin(a),n(a,r,!0),a.DEFAULT_BANDS=t("./default.bands.js"),a.DEFAULT_PRESETS=t("./default.presets.js"),a.prototype._onBandEvent=function(t,e,i){this.trigger(e,t.getFreq(),i)},a.prototype.loadPreset=function(t){t.bands.forEach(function(t,e){this.bands[e].setValue(t)}.bind(this)),this.preamp.setValue(t.preamp)},a.prototype.savePreset=function(){return{preamp:this.preamp.getValue(),bands:this.bands.map(function(t){return t.getValue()})}},a.prototype.guessPreamp=function(){for(var t=0,e=0,i=this.bands.length;e<i;e++)t+=this.bands[e].getValue();return-t/2},e.exports=a},{"../../lib/async/events":29,"../../lib/data/merge":38,"./default.bands.js":16,"./default.presets.js":17,"./equalizer-band":18,"./equalizer-static":19}],21:[function(t,e,i){t("../export"),ya.music.Audio.fx.Equalizer=t("./equalizer")},{"../export":22,"./equalizer":20}],22:[function(t,e,i){t("../export"),ya.music.Audio.fx={}},{"../export":9}],23:[function(t,e,i){t("../export"),ya.music.Audio.fx.volumeLib=t("./volume-lib")},{"../export":22,"./volume-lib":24}],24:[function(t,e,i){var o={};o.EPSILON=.01,o._DBFS_COEF=20/Math.log(10),o.toExponent=function(t){var e=Math.pow(o.EPSILON,1-t);return e>o.EPSILON?e:0},o.fromExponent=function(t){return 1-Math.log(Math.max(t,o.EPSILON))/Math.log(o.EPSILON)},o.toDBFS=function(t){return Math.log(t)*o._DBFS_COEF},o.fromDBFS=function(t){return Math.exp(t/o._DBFS_COEF)},e.exports=o},{}],25:[function(t,e,i){var o=t("../logger/logger"),n=new o("AudioHTML5Loader"),r=t("../lib/async/events"),s=t("../lib/async/deferred"),a=t("../audio-static"),u=t("../error/playback-error"),l=t("../lib/noop"),h=1,c=function(){this.name=h++,DEV&&n.debug(this,"constructor"),r.call(this),this.on("*",function(t){t!==a.EVENT_PROGRESS&&DEV&&n.debug(this,"onEvent",t)}.bind(this)),this.isAutoplayable=!1,this.promises={},this.src=c.EMPTY_SOUND,this.position=0,this.rate=1,this.lastGoodTime=0,this.lastUpdate=0,this.notLoading=!0,this.output=null,this._whenReady=new s,this.whenReady=this._whenReady.promise(),this.__startPlay=this._startPlay.bind(this),this.__restart=this._restart.bind(this),this.__startupAudio=this._startupAudio.bind(this),this.__updateProgress=this._updateProgress.bind(this),this.__onNativeLoading=this._onNativeLoading.bind(this),this.__onNativeEnded=this._onNativeEnded.bind(this),this.__onNativeError=this._onNativeError.bind(this),this.__onNativePause=this._onNativePause.bind(this),this.__onNativePlay=this.trigger.bind(this,a.EVENT_PLAY),this._initAudio()};r.mixin(c),c._catchPromise=function(t){t&&t.catch&&t.catch(function(){})},c._updateInterval=30,c.EMPTY_SOUND="data:audio/mp3;base64,//uQZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA//////////////////////////////////////////////////////////////////8AAAA8TEFNRTMuOThyBK8AAAAAAAAAADQgJAawTQABzAAAAnGGK6g3AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQRAAP8AAAf4AAAAgAAA/wAAABAAAB/gAAACAAAD/AAAAETEFNRTMuOTguMlVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xBkIg/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==",c.EVENT_NATIVE_PLAY="play",c.EVENT_NATIVE_PAUSE="pause",c.EVENT_NATIVE_TIMEUPDATE="timeupdate",c.EVENT_NATIVE_ENDED="ended",c.EVENT_NATIVE_DURATION="durationchange",c.EVENT_NATIVE_LOADING="progress",c.EVENT_NATIVE_META="loadedmetadata",c.EVENT_NATIVE_CANPLAY="canplay",c.EVENT_NATIVE_ERROR="error",c._defaultInitListener=function(){},c._defaultInitListener.step="user",c.prototype._updateProgress=function(){var t=+new Date;t-this.lastUpdate<c._updateInterval||(this.audio.currentTime&&(this.lastGoodTime=this.audio.currentTime),this.lastUpdate=t,this.trigger(a.EVENT_PROGRESS))},c.prototype._onNativeLoading=function(){if(this._updateProgress(),this.audio.buffered.length){var t=this.audio.buffered.end(0)-this.audio.buffered.start(0);this.notLoading&&t&&(this.notLoading=!1,this.trigger(a.EVENT_LOADING)),t>=this.audio.duration-.1&&this.trigger(a.EVENT_LOADED)}},c.prototype._onNativeEnded=function(){this.trigger(a.EVENT_PROGRESS),this.trigger(a.EVENT_ENDED),this.ended=!0,this.playing=!1,c._catchPromise(this.audio.pause())},c.prototype._onNativeError=function(t){if(this.src&&this.src!=c.EMPTY_SOUND){if(2==this.audio.error.code)return n.warn(this,"Network error. Restarting...",n._showUrl(this.src)),this.position=this.lastGoodTime,void this._restart();var e=new u(this.audio.error?u.html5[this.audio.error.code]:t instanceof Error?t.message:t,this.src);this.playing=!1,this.trigger(a.EVENT_ERROR,e)}},c.prototype._onNativePause=function(){this.ended||this.trigger(a.EVENT_PAUSE)},c.prototype._initUserEvents=function(){document.body.addEventListener("mousedown",this.__startupAudio,!0),document.body.addEventListener("keydown",this.__startupAudio,!0),document.body.addEventListener("touchstart",this.__startupAudio,!0)},c.prototype._deinitUserEvents=function(){document.body.removeEventListener("mousedown",this.__startupAudio,!0),document.body.removeEventListener("keydown",this.__startupAudio,!0),document.body.removeEventListener("touchstart",this.__startupAudio,!0)},c.prototype._initNativeEvents=function(){this.audio.addEventListener(c.EVENT_NATIVE_PAUSE,this.__onNativePause),this.audio.addEventListener(c.EVENT_NATIVE_PLAY,this.__onNativePlay),this.audio.addEventListener(c.EVENT_NATIVE_ENDED,this.__onNativeEnded),this.audio.addEventListener(c.EVENT_NATIVE_TIMEUPDATE,this.__updateProgress),this.audio.addEventListener(c.EVENT_NATIVE_DURATION,this.__updateProgress),this.audio.addEventListener(c.EVENT_NATIVE_LOADING,this.__onNativeLoading),this.audio.addEventListener(c.EVENT_NATIVE_ERROR,this.__onNativeError)},c.prototype._deinitNativeEvents=function(){this.audio.removeEventListener(c.EVENT_NATIVE_PAUSE,this.__onNativePause),this.audio.removeEventListener(c.EVENT_NATIVE_PLAY,this.__onNativePlay),this.audio.removeEventListener(c.EVENT_NATIVE_ENDED,this.__onNativeEnded),this.audio.removeEventListener(c.EVENT_NATIVE_TIMEUPDATE,this.__updateProgress),this.audio.removeEventListener(c.EVENT_NATIVE_DURATION,this.__updateProgress),this.audio.removeEventListener(c.EVENT_NATIVE_LOADING,this.__onNativeLoading),this.audio.removeEventListener(c.EVENT_NATIVE_ERROR,this.__onNativeError)},c.prototype._initAudio=function(){DEV&&n.debug(this,"_initAudio"),this.muteEvents(),this.audio=document.createElement("audio"),this.audio.loop=!1,this.audio.preload=this.audio.autobuffer="auto",this.audio.autoplay=!1,this.audio.src=c.EMPTY_SOUND,this._initUserEvents(),this.__initListener=c._defaultInitListener,this._initNativeEvents(),this._initAndCheckAutoplay()},c.prototype._deinitAudio=function(){DEV&&n.debug(this,"_deinitAudio"),this.muteEvents(),this._deinitUserEvents(),this._deinitNativeEvents(),this.audio=null},c.prototype._startupAudio=function(){DEV&&n.debug(this,"_startupAudio"),this._deinitUserEvents(),this.__initListener=function(t){this.__initListener&&(this.audio.removeEventListener(c.EVENT_NATIVE_PLAY,this.__initListener),this.audio.removeEventListener(c.EVENT_NATIVE_CANPLAY,this.__initListener),this.audio.removeEventListener(c.EVENT_NATIVE_META,this.__initListener),this.audio.removeEventListener(c.EVENT_NATIVE_ERROR,this.__initListener),this.__initListener=function(){this.__initListener&&(this.audio.removeEventListener(c.EVENT_NATIVE_PAUSE,this.__initListener),delete this.__initListener,this.unmuteEvents(),n.info(this,"_startupAudio:ready"),this.isAutoplayable=!0)}.bind(this),this.__initListener.step="pause",this.audio.addEventListener(c.EVENT_NATIVE_PAUSE,this.__initListener),c._catchPromise(this.audio.pause()),DEV&&n.debug(this,"_startupAudio:play",t.type))}.bind(this),this.__initListener.step="play",this.audio.addEventListener(c.EVENT_NATIVE_PLAY,this.__initListener),this.audio.addEventListener(c.EVENT_NATIVE_CANPLAY,this.__initListener),this.audio.addEventListener(c.EVENT_NATIVE_META,this.__initListener),this.audio.addEventListener(c.EVENT_NATIVE_ERROR,this.__initListener),c._catchPromise(this.audio.load()),c._catchPromise(this.audio.play())},c.prototype._initAndCheckAutoplay=function(){DEV&&n.debug(this,"_initAndCheckAutoplay"),this.__autoplayListener=function(t){if(this.__autoplayListener){if(this.audio.removeEventListener(c.EVENT_NATIVE_PLAY,this.__autoplayListener),this.audio.removeEventListener(c.EVENT_NATIVE_CANPLAY,this.__autoplayListener),this.audio.removeEventListener(c.EVENT_NATIVE_META,this.__autoplayListener),this.audio.removeEventListener(c.EVENT_NATIVE_ERROR,this.__autoplayListener),t.type==c.EVENT_NATIVE_ERROR)return this.isAutoplayable=!1,void this._whenReady.resolve();this.__autoplayListener=function(t){if(this.__autoplayListener){if(t.type==c.EVENT_NATIVE_ERROR)return this.isAutoplayable=!1,void this._whenReady.resolve();this.isAutoplayable=!0,this.audio.removeEventListener(c.EVENT_NATIVE_PAUSE,this.__autoplayListener),delete this.__autoplayListener,n.info(this,"_initAndCheckAutoplay:ready"),this._whenReady.resolve()}}.bind(this),this.__autoplayListener.step="pause",this.audio.addEventListener(c.EVENT_NATIVE_PAUSE,this.__autoplayListener),c._catchPromise(this.audio.pause()),DEV&&n.debug(this,"_initAndCheckAutoplay:play",t.type)}}.bind(this),this.__autoplayListener.step="play",this.audio.addEventListener(c.EVENT_NATIVE_PLAY,this.__autoplayListener),this.audio.addEventListener(c.EVENT_NATIVE_CANPLAY,this.__autoplayListener),this.audio.addEventListener(c.EVENT_NATIVE_META,this.__autoplayListener),this.audio.addEventListener(c.EVENT_NATIVE_ERROR,this.__autoplayListener),this.audio.src=c.EMPTY_SOUND,c._catchPromise(this.audio.load()),c._catchPromise(this.audio.play())},c.prototype._breakStartup=function(t){this._deinitUserEvents(),this.unmuteEvents(),this.__initListener&&(this.audio.removeEventListener(c.EVENT_NATIVE_PLAY,this.__initListener),this.audio.removeEventListener(c.EVENT_NATIVE_CANPLAY,this.__initListener),this.audio.removeEventListener(c.EVENT_NATIVE_META,this.__initListener),this.audio.removeEventListener(c.EVENT_NATIVE_ERROR,this.__initListener),this.audio.removeEventListener(c.EVENT_NATIVE_PAUSE,this.__initListener),n.warn(this,"_startupAudio:interrupted",this.__initListener.step,t),delete this.__initListener)},c.prototype._waitFor=function(t,e,i){if(!this.promises[t]){var o=new s;if(this.promises[t]=o,e.call(this))o.resolve();else{for(var n=function(){e.call(this)&&o.resolve()}.bind(this),r=function(){for(var t=0,e=i.length;t<e;t++)this.audio.removeEventListener(i[t],n)}.bind(this),a=0,u=i.length;a<u;a++)this.audio.addEventListener(i[a],n);o.promise().then(r,r)}}return this.promises[t].promise()},c.prototype._cancelWait=function(t,e){var i;(i=this.promises[t])&&(delete this.promises[t],i.reject(e))},c.prototype._abortPromises=function(t){for(var e in this.promises)this.promises.hasOwnProperty(e)&&this._cancelWait(e,t)},c._promiseMetadataEvents=[c.EVENT_NATIVE_META,c.EVENT_NATIVE_CANPLAY],c.prototype._promiseMetadataCheck=function(){return this.audio.readyState>this.audio.HAVE_METADATA},c.prototype._promiseMetadata=function(){return this._waitFor("metadata",this._promiseMetadataCheck,c._promiseMetadataEvents)},c._promiseLoadedEvents=[c.EVENT_NATIVE_LOADING],c.prototype._promiseLoadedCheck=function(){this.__loaderTimer=this.__loaderTimer&&clearTimeout(this.__loaderTimer)||setTimeout(function(){this._cancelWait("loaded","timeout")}.bind(this),5e3);var t=Math.min(this.position+45,this.audio.duration);return this.audio.buffered.length&&this.audio.buffered.end(0)-this.audio.buffered.start(0)>=t},c.prototype._promiseLoaded=function(){var t=this._waitFor("loaded",this._promiseLoadedCheck,c._promiseLoadedEvents);return t.cleanTimer||(t.cleanTimer=function(){this.__loaderTimer=clearTimeout(this.__loaderTimer)}.bind(this),t.then(t.cleanTimer,t.cleanTimer)),t},c._promisePlayingEvents=[c.EVENT_NATIVE_TIMEUPDATE],c.prototype._promisePlayingCheck=function(){var t=Math.min(this.position+.2,this.audio.duration);return this.audio.currentTime>=t},c.prototype._promisePlaying=function(){return this._waitFor("playing",this._promisePlayingCheck,c._promisePlayingEvents)},c.prototype._promiseStartPlaying=function(){if(!this.promises.startPlaying){var t=new s;this.promises.startPlaying=t;var e,i=function(t){o=!0,this._cancelWait("startPlaying",t)}.bind(this),o=!1,r=function(){clearTimeout(e)};this._promisePlaying().then(function(){o=!0,t.resolve(),n.info(this,"startPlaying:success")}.bind(this),i),this._promiseLoaded().then(function(){o||(e=setTimeout(function(){t.reject("timeout"),this._cancelWait("playing","timeout"),n.warn(this,"startPlaying:failed")}.bind(this),5e3))}.bind(this),i),this._promisePlaying().then(r,r),t.promise().then(r,r)}return this.promises.startPlaying.promise()},c.prototype.load=function(t){DEV&&n.debug(this,"load",t),this._abortPromises("load"),this._breakStartup("load"),this.ended=!1,this.playing=!1,this.notLoading=!0,this.position=0,this.lastGoodTime=0,this.src=t,this.audio.src=t,c._catchPromise(this.audio.load())},c.prototype.stop=function(){DEV&&n.debug(this,"stop"),this._abortPromises("stop"),this._breakStartup("stop"),this.load("")},c.prototype._startPlay=function(){DEV&&n.debug(this,"_startPlay"),this.audio.currentTime=this.position,this.playing&&(this._breakStartup("startPlay"),c._catchPromise(this.audio.play()),this._promiseStartPlaying().then(function(){this.retry=0}.bind(this),this.__restart))},c.prototype._restart=function(t){if(n.info(this,"_restart",t,this.position,this.playing),this.src&&this.src!=c.EMPTY_SOUND&&(!t||"timeout"===t)){if(++this.retry>5)return this.playing=!1,void this.trigger(a.EVENT_ERROR,new u(u.DONT_START,this.src));var e=this.position,i=this.playing;this.load(this.src),i?this._play(e):this.setPosition(e)}},c.prototype.play=function(t){return DEV&&n.debug(this,"play",t),this.retry=0,this._play(t)},c.prototype._play=function(t){DEV&&n.debug(this,"_play",t),this.playing||(this._breakStartup("play"),this.ended=!1,this.playing=!0,this.position=null==t?this.position||0:t,this._promiseMetadata().then(this.__startPlay,l))},c.prototype.pause=function(){DEV&&n.debug(this,"pause"),this.playing=!1,this._cancelWait("startPlaying","pause"),this._breakStartup("pause"),c._catchPromise(this.audio.pause()),this.position=this.audio.currentTime},c.prototype.setRate=function(t){if(DEV&&n.debug(this,"setRate",t),!isFinite(t))return void n.warn(this,"setRateFailed",t);this.rate=t,this._promiseMetadata().then(function(){this.audio.playbackRate=this.rate}.bind(this),l)},c.prototype.setPosition=function(t){if(DEV&&n.debug(this,"setPosition",t),!isFinite(t))return void n.warn(this,"setPositionFailed",t);this.position=t,this._promiseMetadata().then(function(){this.audio.currentTime=this.position}.bind(this),l)},c.prototype.toggleCrossDomain=function(t){t?this.audio.crossOrigin="anonymous":this.audio.removeAttribute("crossOrigin"),this._restart()},c.prototype.createSource=function(t){if(!this.output){DEV&&n.debug(this,"createSource");var e=!this.audio.crossOrigin;this.audio.crossOrigin="anonymous",this.output=t.createMediaElementSource(this.audio),this.output.connect(t.destination),e&&this._restart()}},c.prototype.destroySource=function(){this.output&&(n.warn(this,"destroySource"),this.output.disconnect(),this.output=null,this._abortPromises("destroy"),this._deinitAudio(),this._initAudio(),this._startupAudio(),this._restart())},c.prototype.destroy=function(){DEV&&n.debug(this,"destroy"),this.output&&(this.output.disconnect(),this.output=null),this._abortPromises(),this._deinitAudio(),this.__restart=null,this.__startPlay=null,this.promises=null},c.prototype._logger=function(){return{init:!!this.__initListener&&this.__initListener.step,src:n._showUrl(this.src),playing:this.playing,ended:this.ended,notLoading:this.notLoading,position:this.position}},e.exports=c},{"../audio-static":4,"../error/playback-error":8,"../lib/async/deferred":28,"../lib/async/events":29,"../lib/noop":42,"../logger/logger":44}],26:[function(t,e,i){var o=t("../logger/logger"),n=new o("AudioHTML5"),r=t("../lib/browser/detect"),s=t("../lib/async/events"),a=t("../lib/async/deferred"),u=t("../audio-static"),l=t("./audio-html5-loader"),h=1;if(i.available=function(){var t=!0;try{var e=document.createElement("audio"),i=e.canPlayType("audio/mpeg");i&&"no"!==i||(n.warn(this,"HTML5 detection failed with reason",i),t=!1)}catch(e){n.warn(this,"HTML5 detection failed with error",e),t=!1}return n.info(this,"detection",t),t}(),r.platform.mobile||r.platform.tablet)c=null,n.info(this,"WebAudioAPI not allowed for mobile");else if("safari"==r.browser.name&&r.browser.version<"602.1.50")c=null,n.info(this,"WebAudioAPI temporarily not allowed for Safari prior to 602.1.50");else try{var c=new AudioContext;n.info(this,"WebAudioAPI context created")}catch(t){c=null,n.info(this,"WebAudioAPI not detected")}var p=function(){this.name=h++,DEV&&n.debug(this,"constructor"),s.call(this),this.on("*",function(t){t!==u.EVENT_PROGRESS&&DEV&&n.debug(this,"onEvent",t)}.bind(this)),this.webAudioApi=!1,this.activeLoader=0,this.volume=1,this.loaders=[],this._whenReady=new a,this.whenReady=this._whenReady.promise(),this._addLoader(),this._addLoader(),this._getLoader().whenReady.then(function(){this._whenReady.resolve()}.bind(this)),this._setActive(0)};s.mixin(p),i.type=p.type=p.prototype.type="html5",p.prototype._addLoader=function(){DEV&&n.debug(this,"_addLoader");var t=this,e=new l;e.index=this.loaders.push(e)-1,e.on("*",function(i,o){var n=(t.loaders.length+e.index-t.activeLoader)%t.loaders.length;t.trigger(i,n,o)}),this.webAudioApi&&e.createSource(c)},p.prototype._setActive=function(t){DEV&&n.debug(this,"_setActive",t),this.activeLoader=(this.activeLoader+t)%this.loaders.length,this.trigger(u.EVENT_SWAP,t),0!==t&&this.stop(t)},p.prototype._getLoader=function(t){return t=t||0,this.loaders[(this.activeLoader+t)%this.loaders.length]},p.prototype.toggleCrossDomain=function(t){this.loaders.forEach(function(e){e.toggleCrossDomain(t)})},p.prototype.toggleWebAudioAPI=function(t){return c?(n.info(this,"toggleWebAudioAPI",t),this.webAudioApi==t?t:(t?(this.audioOutput=c.createGain(),this.audioOutput.gain.value=this.volume,this.audioOutput.connect(c.destination),this.preprocessor&&this.preprocessor.output.connect(this.audioOutput),this.loaders.forEach(function(t){t.audio.volume=1,t.createSource(c),t.output.disconnect(),t.output.connect(this.preprocessor?this.preprocessor.input:this.audioOutput)}.bind(this))):this.audioOutput&&(this.preprocessor&&this.preprocessor.output.disconnect(),this.audioOutput.disconnect(),delete this.audioOutput,this.loaders.forEach(function(t){t.audio.volume=this.volume,t.output.disconnect(),t.output.connect(c.destination)}.bind(this))),this.webAudioApi=t,t)):(n.warn(this,"toggleWebAudioAPIError",t),!1)},p.prototype.setAudioPreprocessor=function(t){return this.webAudioApi?(n.info(this,"setAudioPreprocessor"),this.preprocessor===t||(this.preprocessor&&this.preprocessor.output.disconnect(),this.preprocessor=t,t?(this.loaders.forEach(function(e){e.output.disconnect(),e.output.connect(t.input)}),t.output.connect(this.audioOutput),!0):(this.loaders.forEach(function(t){t.output.disconnect(),t.output.connect(this.audioOutput)}.bind(this)),!0))):(n.warn(this,"setAudioPreprocessorError",t),!1)},p.prototype.play=function(t,e){DEV&&n.debug(this,"play",t);var i=this._getLoader();i.load(t),i.play(0)},p.prototype.pause=function(){DEV&&n.debug(this,"pause"),this._getLoader().pause()},p.prototype.resume=function(){DEV&&n.debug(this,"resume"),this._getLoader().play()},p.prototype.stop=function(t){DEV&&n.debug(this,"stop",t),this._getLoader(t||0).stop(),this.trigger(u.EVENT_STOP,t)},p.prototype.getRate=function(){return this._getLoader().audio.playbackRate},p.prototype.setRate=function(t){DEV&&n.debug(this,"setRate",t),this._getLoader().setRate(t)},p.prototype.getPosition=function(){return this._getLoader().audio.currentTime},p.prototype.setPosition=function(t){DEV&&n.debug(this,"setPosition",t),this._getLoader().setPosition(t-.001)},p.prototype.getDuration=function(t){return this._getLoader(t).audio.duration},p.prototype.getLoaded=function(t){var e=this._getLoader(t);return e.audio.buffered.length?e.audio.buffered.end(0)-e.audio.buffered.start(0):0},p.prototype.getMaxSeekablePosition=function(t){return this.getDuration(t)},p.prototype.getVolume=function(){return this.volume},p.prototype.setVolume=function(t){DEV&&n.debug(this,"setVolume",t),this.volume=t,this.webAudioApi?this.audioOutput.gain.value=t:this.loaders.forEach(function(e){e.audio.volume=t}),this.trigger(u.EVENT_VOLUME)},p.prototype.preload=function(t,e,i){DEV&&n.debug(this,"preload",t,i),i=null==i?1:i,this._getLoader(i).load(t)},p.prototype.isPreloaded=function(t,e){e=null==e?1:e;var i=this._getLoader(e);return i.src===t&&!i.notLoading},p.prototype.isPreloading=function(t,e){return e=null==e?1:e,this._getLoader(e).src===t},p.prototype.playPreloaded=function(t){DEV&&n.debug(this,"playPreloaded",t),t=null==t?1:t;var e=this._getLoader(t);return!!e.src&&(this._setActive(t),e.play(),!0)},p.prototype.getSrc=function(t){return this._getLoader(t).src},p.prototype.isDeviceVolume=function(){return r.onlyDeviceVolume},p.prototype.isAutoplayable=function(){return this._getLoader(0).isAutoplayable},p.prototype._logger=function(){try{return{main:n._showUrl(this.getSrc(0)),preloader:n._showUrl(this.getSrc(1))}}catch(t){return""}},i.audioContext=c,i.AudioImplementation=p},{"../audio-static":4,"../lib/async/deferred":28,"../lib/async/events":29,"../lib/browser/detect":33,"../logger/logger":44,"./audio-html5-loader":25}],27:[function(t,e,i){t("./lib/browser/audioContextMonkeyPatch.js");var o=t("./export");t("./error/export"),t("./lib/net/error/export"),t("./logger/export"),t("./fx/equalizer/export"),t("./fx/volume/export"),e.exports=o},{"./error/export":7,"./export":9,"./fx/equalizer/export":21,"./fx/volume/export":23,"./lib/browser/audioContextMonkeyPatch.js":32,"./lib/net/error/export":40,"./logger/export":43}],28:[function(t,e,i){var o=t("./promise"),n=t("../noop"),r=function(){var t=this,e=new o(function(e,i){t.resolve=e,t.reject=i});e.catch(n),this.promise=function(){return e}};e.exports=r},{"../noop":42,"./promise":30}],29:[function(t,e,i){var o=t("../data/merge"),n=function(){this._listeners={},this._muted=!1};n.mixin=function(t){return o(t.prototype,n.prototype,!0),t},n.eventize=function(t){return o(t,n.prototype,!0),n.call(t),t},n.prototype.on=function(t,e){return this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e),this},n.prototype.off=function(t,e){if(!this._listeners[t])return this;if(!e)return delete this._listeners[t],this;for(var i=this._listeners[t],o=0,n=i.length;o<n;o++)if(i[o]===e||i[o].callback===e){i.splice(o,1),i.length||delete this._listeners[t];break}return this},n.prototype.once=function(t,e){var i=this,o=function(){i.off(t,o),e.apply(this,arguments)};return o.callback=e,i.on(t,o),this},n.prototype.clearListeners=function(){for(var t in this._listeners)this._listeners.hasOwnProperty(t)&&delete this._listeners[t];return this},n.prototype.trigger=function(t,e){if(this._muted)return this;if(e=[].slice.call(arguments,1),"*"!==t&&n.prototype.trigger.apply(this,["*",t].concat(e)),!this._listeners[t])return this;for(var i=[].concat(this._listeners[t]),o=0,r=i.length;o<r;o++)i[o].apply(null,e);return this},n.prototype.pipeEvents=function(t){return this.on("*",n.prototype.trigger.bind(t)),this},n.prototype.muteEvents=function(){return this._muted=!0,this},n.prototype.unmuteEvents=function(){return delete this._muted,this},e.exports=n},{"../data/merge":38}],30:[function(t,e,i){var o,n=t("vow"),r=t("../browser/detect"),s=t("../data/merge");"function"!=typeof window.Promise||"msie"===r.browser.name||"edge"===r.browser.name?(o=function(t){var e;try{e=new n.Promise(t)}catch(t){e=n.reject(t)}return e},s(o,n.Promise,!0),o.prototype=n.Promise.prototype):o=window.Promise,e.exports=o},{"../browser/detect":33,"../data/merge":38,vow:2}],31:[function(t,e,i){var o=t("../noop"),n=t("./promise"),r=function(t){var e=n.reject(t);return e.catch(o),e};e.exports=r},{"../noop":42,"./promise":30}],32:[function(t,e,i){!function(t,e,i){"use strict";function o(t){t&&(t.setTargetAtTime||(t.setTargetAtTime=t.setTargetValueAtTime))}window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext,AudioContext.prototype.hasOwnProperty("createGain")||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),AudioContext.prototype.hasOwnProperty("createDelay")||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),AudioContext.prototype.hasOwnProperty("createScriptProcessor")||(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),AudioContext.prototype.hasOwnProperty("createPeriodicWave")||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var t=this.internal_createGain();return o(t.gain),t},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(t){var e=t?this.internal_createDelay(t):this.internal_createDelay();return o(e.delayTime),e},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var t=this.internal_createBufferSource();return t.start?(t.internal_start=t.start,t.start=function(e,i,o){void 0!==o?t.internal_start(e||0,i,o):t.internal_start(e||0,i)}):t.start=function(t,e,i){e||i?this.noteGrainOn(t||0,e,i):this.noteOn(t||0)},t.stop?(t.internal_stop=t.stop,t.stop=function(e){t.internal_stop(e||0)}):t.stop=function(t){this.noteOff(t||0)},o(t.playbackRate),t},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var t=this.internal_createDynamicsCompressor();return o(t.threshold),o(t.knee),o(t.ratio),o(t.reduction),o(t.attack),o(t.release),t},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var t=this.internal_createBiquadFilter();return o(t.frequency),o(t.detune),o(t.Q),o(t.gain),t},AudioContext.prototype.hasOwnProperty("createOscillator")&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var t=this.internal_createOscillator();return t.start?(t.internal_start=t.start,t.start=function(e){t.internal_start(e||0)}):t.start=function(t){this.noteOn(t||0)},t.stop?(t.internal_stop=t.stop,t.stop=function(e){t.internal_stop(e||0)}):t.stop=function(t){this.noteOff(t||0)},t.setPeriodicWave||(t.setPeriodicWave=t.setWaveTable),o(t.frequency),o(t.detune),t})),window.hasOwnProperty("webkitOfflineAudioContext")&&!window.hasOwnProperty("OfflineAudioContext")&&(window.OfflineAudioContext=webkitOfflineAudioContext)}(window)},{}],33:[function(t,e,i){var o=navigator.userAgent.toLowerCase(),n=/(ucbrowser)\/([\w.]+)/,r=/(webkit)[ \/]([\w.]+)/,s=/(yabrowser)[ \/]([\w.]+)/,a=/(opr|opera)(?:.*version)?[ \/]([\w.]+)/,u=/(msie) ([\w.]+)/,l=/(edge)\/([\w.]+)/,h=/(iemobile)\/([\d\.]+)/,c=/(mozilla)(?:.*? rv:([\w.]+))?/,p=/^((?!chrome).)*version\/([\d\w\.]+).*(safari)/,d=n.exec(o)||s.exec(o)||a.exec(o)||l.exec(o)||p.exec(o)||h.exec(o)||r.exec(o)||u.exec(o)||o.indexOf("compatible")<0&&c.exec(o)||[],f={name:d[1]||"",version:d[2]||"0"};"safari"===d[3]&&(f.name=d[3],f.version=r.exec(o)[2]),"msie"===f.name&&(document.documentMode?f.documentMode=document.documentMode:(f.documentMode=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(f.documentMode=7))),"opr"===f.name&&(f.name="opera"),"mozilla"===f.name&&"11"===f.version.split(".")[0]&&(f.name="msie");var _=/(windows phone|ipad|iphone|ipod|android|blackberry|playbook|windows ce)/,A=/(ipad|playbook)/,y=/(android)/,E=/(mobile)/,m=/(netcast|web[0o]s|nettv|netrange|sharp|smart-tv)/;T=_.exec(o)||[];var v=A.exec(o)||!E.exec(o)&&y.exec(o)||[],g=m.exec(o)||!!window.tizen&&[null,"tizen"]||!("object"!=typeof window.sony||!window.sony.tv)&&[null,"sony"]||[];T[1]&&(T[1]=T[1].replace(/\s/g,"_")),"web0s"==g[1]&&(g[1]="webos");var T={type:T[1]||"",tablet:!!v[1],tv:!!g[1],mobile:T[1]&&!v[1]||!1}
;g[1]&&(T.type=g[1]),T.type||(T.type="pc"),T.os=T.type,"ipad"===T.type||"iphone"===T.type||"ipod"===T.type?T.os="ios":"android"===T.type?T.os="android":"windows phone"===T.type||-1!==navigator.appVersion.indexOf("Win")?(T.os="windows",T.version=navigator.userAgent.match(/win[^ ]* ([^;]*)/i),T.version=T.version&&T.version[1]):-1!==navigator.appVersion.indexOf("Mac")?T.os="macos":-1!==navigator.appVersion.indexOf("X11")?T.os="unix":-1!==navigator.appVersion.indexOf("Linux")&&(T.os="linux");var b=!0;try{var V=document.createElement("audio");V.volume=.63,b=Math.abs(V.volume-.63)>.01}catch(t){b=!0}var w={browser:f,platform:T,onlyDeviceVolume:b};e.exports=w},{}],34:[function(t,e,i){var o=function(){function t(){if(!B){try{var t=x.getElementsByTagName("body")[0].appendChild(y("span"));t.parentNode.removeChild(t)}catch(t){return}B=!0;for(var e=F.length,i=0;i<e;i++)F[i]()}}function e(t){B?t():F[F.length]=t}function i(t){if(typeof I.addEventListener!=S)I.addEventListener("load",t,!1);else if(typeof x.addEventListener!=S)x.addEventListener("load",t,!1);else if(typeof I.attachEvent!=S)E(I,"onload",t);else if("function"==typeof I.onload){var e=I.onload;I.onload=function(){e(),t()}}else I.onload=t}function n(){k?r():s()}function r(){var t=x.getElementsByTagName("body")[0],e=y(R);e.setAttribute("type",O);var i=t.appendChild(e);if(i){var o=0;!function(){if(typeof i.GetVariable!=S){var n=i.GetVariable("$version");n&&(n=n.split(" ")[1].split(","),H.pv=[parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10)])}else if(o<10)return o++,void setTimeout(arguments.callee,10);t.removeChild(e),i=null,s()}()}else s()}function s(){var t=j.length;if(t>0)for(var e=0;e<t;e++){var i=j[e].id,o=j[e].callbackFn,n={success:!1,id:i};if(H.pv[0]>0){var r=A(i);if(r)if(!m(j[e].swfVersion)||H.wk&&H.wk<312)if(j[e].expressInstall&&u()){var s={};s.data=j[e].expressInstall,s.width=r.getAttribute("width")||"0",s.height=r.getAttribute("height")||"0",r.getAttribute("class")&&(s.styleclass=r.getAttribute("class")),r.getAttribute("align")&&(s.align=r.getAttribute("align"));for(var c={},p=r.getElementsByTagName("param"),d=p.length,f=0;f<d;f++)"movie"!=p[f].getAttribute("name").toLowerCase()&&(c[p[f].getAttribute("name")]=p[f].getAttribute("value"));l(s,c,i,o)}else h(r),o&&o(n);else g(i,!0),o&&(n.success=!0,n.ref=a(i),o(n))}else if(g(i,!0),o){var _=a(i);_&&typeof _.SetVariable!=S&&(n.success=!0,n.ref=_),o(n)}}}function a(t){var e=null,i=A(t);if(i&&"OBJECT"==i.nodeName)if(typeof i.SetVariable!=S)e=i;else{var o=i.getElementsByTagName(R)[0];o&&(e=o)}return e}function u(){return!G&&m("6.0.65")&&(H.win||H.mac)&&!(H.wk&&H.wk<312)}function l(t,e,i,o){G=!0,w=o||null,N={success:!1,id:i};var n=A(i);if(n){"OBJECT"==n.nodeName?(b=c(n),V=null):(b=n,V=i),t.id=D,(typeof t.width==S||!/%$/.test(t.width)&&parseInt(t.width,10)<310)&&(t.width="310"),(typeof t.height==S||!/%$/.test(t.height)&&parseInt(t.height,10)<137)&&(t.height="137"),x.title=x.title.slice(0,47)+" - Flash Player Installation";var r=H.ie&&H.win?"ActiveX":"PlugIn",s="MMredirectURL="+I.location.toString().replace(/&/g,"%26")+"&MMplayerType="+r+"&MMdoctitle="+x.title;if(typeof e.flashvars!=S?e.flashvars+="&"+s:e.flashvars=s,H.ie&&H.win&&4!=n.readyState){var a=y("div");i+="SWFObjectNew",a.setAttribute("id",i),n.parentNode.insertBefore(a,n),n.style.display="none",function(){4==n.readyState?n.parentNode.removeChild(n):setTimeout(arguments.callee,10)}()}p(t,e,i)}}function h(t){if(H.ie&&H.win&&4!=t.readyState){var e=y("div");t.parentNode.insertBefore(e,t),e.parentNode.replaceChild(c(t),e),t.style.display="none",function(){4==t.readyState?t.parentNode.removeChild(t):setTimeout(arguments.callee,10)}()}else t.parentNode.replaceChild(c(t),t)}function c(t){var e=y("div");if(H.win&&H.ie)e.innerHTML=t.innerHTML;else{var i=t.getElementsByTagName(R)[0];if(i){var o=i.childNodes;if(o)for(var n=o.length,r=0;r<n;r++)1==o[r].nodeType&&"PARAM"==o[r].nodeName||8==o[r].nodeType||e.appendChild(o[r].cloneNode(!0))}}return e}function p(t,e,i){var o,n=A(i);if(H.wk&&H.wk<312)return o;if(n)if(typeof t.id==S&&(t.id=i),H.ie&&H.win){var r="";for(var s in t)t[s]!=Object.prototype[s]&&("data"==s.toLowerCase()?e.movie=t[s]:"styleclass"==s.toLowerCase()?r+=' class="'+t[s]+'"':"classid"!=s.toLowerCase()&&(r+=" "+s+'="'+t[s]+'"'));var a="";for(var u in e)e[u]!=Object.prototype[u]&&(a+='<param name="'+u+'" value="'+e[u]+'" />');n.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+r+">"+a+"</object>",M[M.length]=t.id,o=A(t.id)}else{var l=y(R);l.setAttribute("type",O);for(var h in t)t[h]!=Object.prototype[h]&&("styleclass"==h.toLowerCase()?l.setAttribute("class",t[h]):"classid"!=h.toLowerCase()&&l.setAttribute(h,t[h]));for(var c in e)e[c]!=Object.prototype[c]&&"movie"!=c.toLowerCase()&&d(l,c,e[c]);n.parentNode.replaceChild(l,n),o=l}return o}function d(t,e,i){var o=y("param");o.setAttribute("name",e),o.setAttribute("value",i),t.appendChild(o)}function f(t){var e=A(t);e&&"OBJECT"==e.nodeName&&(H.ie&&H.win?(e.style.display="none",function(){4==e.readyState?_(t):setTimeout(arguments.callee,10)}()):e.parentNode.removeChild(e))}function _(t){var e=A(t);if(e){for(var i in e)"function"==typeof e[i]&&(e[i]=null);e.parentNode.removeChild(e)}}function A(t){var e=null;try{e=x.getElementById(t)}catch(t){}return e}function y(t){return x.createElement(t)}function E(t,e,i){t.attachEvent(e,i),U[U.length]=[t,e,i]}function m(t){var e=H.pv,i=t.split(".");return i[0]=parseInt(i[0],10),i[1]=parseInt(i[1],10)||0,i[2]=parseInt(i[2],10)||0,e[0]>i[0]||e[0]==i[0]&&e[1]>i[1]||e[0]==i[0]&&e[1]==i[1]&&e[2]>=i[2]}function v(t,e,i,o){if(!H.ie||!H.mac){var n=x.getElementsByTagName("head")[0];if(n){var r=i&&"string"==typeof i?i:"screen";if(o&&(P=null,L=null),!P||L!=r){var s=y("style");s.setAttribute("type","text/css"),s.setAttribute("media",r),P=n.appendChild(s),H.ie&&H.win&&typeof x.styleSheets!=S&&x.styleSheets.length>0&&(P=x.styleSheets[x.styleSheets.length-1]),L=r}H.ie&&H.win?P&&typeof P.addRule==R&&P.addRule(t,e):P&&typeof x.createTextNode!=S&&P.appendChild(x.createTextNode(t+" {"+e+"}"))}}}function g(t,e){if(W){var i=e?"visible":"hidden";B&&A(t)?A(t).style.visibility=i:v("#"+t,"visibility:"+i)}}function T(t){return null!=/[\\\"<>\.;]/.exec(t)&&typeof encodeURIComponent!=S?encodeURIComponent(t):t}var b,V,w,N,P,L,S="undefined",R="object",O="application/x-shockwave-flash",D="SWFObjectExprInst",I=window,x=document,C=navigator,k=!1,F=[n],j=[],M=[],U=[],B=!1,G=!1,W=!0,H=function(){var t=typeof x.getElementById!=S&&typeof x.getElementsByTagName!=S&&typeof x.createElement!=S,e=C.userAgent.toLowerCase(),i=C.platform.toLowerCase(),o=/win/.test(i?i:e),n=/mac/.test(i?i:e),r=!!/webkit/.test(e)&&parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),s=!1,a=[0,0,0],u=null;if(typeof C.plugins!=S&&typeof C.plugins["Shockwave Flash"]==R)!(u=C.plugins["Shockwave Flash"].description)||typeof C.mimeTypes!=S&&C.mimeTypes[O]&&!C.mimeTypes[O].enabledPlugin||(k=!0,s=!1,u=u.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),a[0]=parseInt(u.replace(/^(.*)\..*$/,"$1"),10),a[1]=parseInt(u.replace(/^.*\.(.*)\s.*$/,"$1"),10),a[2]=/[a-zA-Z]/.test(u)?parseInt(u.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof I.ActiveXObject!=S)try{var l=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");l&&(u=l.GetVariable("$version"))&&(s=!0,u=u.split(" ")[1].split(","),a=[parseInt(u[0],10),parseInt(u[1],10),parseInt(u[2],10)])}catch(t){}return{w3:t,pv:a,wk:r,ie:s,win:o,mac:n}}();return function(){H.w3&&((typeof x.readyState!=S&&"complete"==x.readyState||typeof x.readyState==S&&(x.getElementsByTagName("body")[0]||x.body))&&t(),B||(typeof x.addEventListener!=S&&x.addEventListener("DOMContentLoaded",t,!1),H.ie&&H.win&&(x.attachEvent("onreadystatechange",function(){"complete"==x.readyState&&(x.detachEvent("onreadystatechange",arguments.callee),t())}),I==top&&function(){if(!B){try{x.documentElement.doScroll("left")}catch(t){return void setTimeout(arguments.callee,0)}t()}}()),H.wk&&function(){if(!B)/loaded|complete/.test(x.readyState)?t():setTimeout(arguments.callee,0)}(),i(t)))}(),function(){H.ie&&H.win&&window.attachEvent("onunload",function(){for(var t=U.length,e=0;e<t;e++)U[e][0].detachEvent(U[e][1],U[e][2]);for(var i=M.length,n=0;n<i;n++)f(M[n]);for(var r in H)H[r]=null;H=null;for(var s in o)o[s]=null;o=null})}(),{registerObject:function(t,e,i,o){if(H.w3&&t&&e){var n={};n.id=t,n.swfVersion=e,n.expressInstall=i,n.callbackFn=o,j[j.length]=n,g(t,!1)}else o&&o({success:!1,id:t})},getObjectById:function(t){if(H.w3)return a(t)},embedSWF:function(t,i,o,n,r,s,a,h,c,d){var f={success:!1,id:i};H.w3&&!(H.wk&&H.wk<312)&&t&&i&&o&&n&&r?(g(i,!1),e(function(){o+="",n+="";var e={};if(c&&typeof c===R)for(var _ in c)e[_]=c[_];e.data=t,e.width=o,e.height=n;var A={};if(h&&typeof h===R)for(var y in h)A[y]=h[y];if(a&&typeof a===R)for(var E in a)typeof A.flashvars!=S?A.flashvars+="&"+E+"="+a[E]:A.flashvars=E+"="+a[E];if(m(r)){var v=p(e,A,i);e.id==i&&g(i,!0),f.success=!0,f.ref=v}else{if(s&&u())return e.data=s,void l(e,A,i,d);g(i,!0)}d&&d(f)})):d&&d(f)},switchOffAutoHideShow:function(){W=!1},ua:H,getFlashPlayerVersion:function(){return{major:H.pv[0],minor:H.pv[1],release:H.pv[2]}},hasFlashPlayerVersion:m,createSWF:function(t,e,i){return H.w3?p(t,e,i):void 0},showExpressInstall:function(t,e,i,o){H.w3&&u()&&l(t,e,i,o)},removeSWF:function(t){H.w3&&f(t)},createCSS:function(t,e,i,o){H.w3&&v(t,e,i,o)},addDomLoadEvent:e,addLoadEvent:i,getQueryParamValue:function(t){var e=x.location.search||x.location.hash;if(e){if(/\?/.test(e)&&(e=e.split("?")[1]),null==t)return T(e);for(var i=e.split("&"),o=0;o<i.length;o++)if(i[o].substring(0,i[o].indexOf("="))==t)return T(i[o].substring(i[o].indexOf("=")+1))}return""},expressInstallCallback:function(){if(G){var t=A(D);t&&b&&(t.parentNode.replaceChild(b,t),V&&(g(V,!0),H.ie&&H.win&&(b.style.display="block")),w&&w(N)),G=!1}}}}();e.exports=o},{}],35:[function(t,e,i){var o=t("./pure-instance"),n=function(t,e){var i=new Error(t,e);i.name=this.name,this.message=i.message,this.stack=i.stack};n.create=function(t){var e=o(this);return e.name=t,e},n.prototype=o(Error),n.prototype.name="ErrorClass",e.exports=n},{"./pure-instance":37}],36:[function(t,e,i){var o=t("../async/events"),n=function(t){if(t){for(var e in t)"_"===e[0]||"function"!=typeof t[e]||t[e]===Object.prototype[e]||t.hasOwnProperty(e)||o.prototype.hasOwnProperty(e)||(this[e]=t[e].bind(t));t.pipeEvents&&(o.call(this),this.on=o.prototype.on,this.once=o.prototype.once,this.off=o.prototype.off,this.clearListeners=o.prototype.clearListeners,t.pipeEvents(this))}};n.exportStatic=function(t,e,i){i=i||[],Object.keys(t).forEach(function(o){t.hasOwnProperty(o)&&"_"!==o[0]&&"prototype"!==o&&-1===i.indexOf(o)&&(e[o]=t[o])})},n.createClass=function(t,e,i){var o=function(){var e=function(){};e.prototype=t.prototype;var i=new e;return t.apply(i,arguments),i._proxy()},r=function(){};r.prototype=(e||n).prototype,o.prototype=new r;var s;for(var a in t.prototype)s=t.prototype[a],Object.prototype[a]!=s&&"function"!=typeof s&&"_"!==a[0]&&(o.prototype[a]=s);var u=function(t){var e=n.prototype;n.prototype=o.prototype;var i=new n(t);return n.prototype=e,i};return t.prototype._proxy=function(){return this.__proxy||(this.__proxy=u(this)),this.__proxy},i||n.exportStatic(t,o),o},e.exports=n},{"../async/events":29}],37:[function(t,e,i){var o=function(t){var e=function(){};return e.prototype=t.prototype,new e};e.exports=o},{}],38:[function(t,e,i){var o=function(t){var e,i,o=[].slice.call(arguments,1);if(!0===o[o.length-1])e=t,o.pop();else{e={};for(i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}for(var n=0,r=o.length;n<r;n++)for(i in o[n])o[n].hasOwnProperty(i)&&(e[i]=o[n][i]);return e};e.exports=o},{}],39:[function(t,e,i){t("../export"),ya.music.lib||(ya.music.lib={});var o=t("./async/events"),n=t("./class/error-class"),r=t("./class/pure-instance"),s=function(){o.call(this)};s.prototype=r(o),s.mixin=o.mixin,s.eventize=o.eventize;var a=function(){n.apply(this,arguments)};a.prototype=r(n),a.create=n.create,ya.music.lib.Events=s,ya.music.lib.Error=a,ya.music.lib.Promise=t("./async/promise"),ya.music.lib.Deferred=t("./async/deferred"),ya.music.lib.pureInstance=r,ya.music.lib.merge=t("./data/merge"),ya.music.info=t("./browser/detect")},{"../export":9,"./async/deferred":28,"./async/events":29,"./async/promise":30,"./browser/detect":33,"./class/error-class":35,"./class/pure-instance":37,"./data/merge":38}],40:[function(t,e,i){t("../../../export");var o=t("./loader-error");ya.music.Audio.LoaderError=o},{"../../../export":9,"./loader-error":41}],41:[function(t,e,i){var o=t("../../class/error-class"),n=function(t){o.call(this,t)};n.prototype=o.create("LoaderError"),n.TIMEOUT="request timeout",n.FAILED="request failed",e.exports=n},{"../../class/error-class":35}],42:[function(t,e,i){var o=function(){};e.exports=o},{}],43:[function(t,e,i){t("../export");var o=t("./logger");ya.music.Audio.Logger=o},{"../export":9,"./logger":44}],44:[function(t,e,i){var o=["debug","log","info","warn","error","trace"],n=t("../lib/noop"),r=function(t){this.channel=t};r.ignores=[],r.logLevels=[],r.prototype.debug=n,r.prototype.log=n,r.prototype.info=n,r.prototype.warn=n,r.prototype.error=n,r.prototype.trace=n,r.prototype._showUrl=function(t){return r.showUrl(t)},r.showUrl=function(t){return t},o.forEach(function(t){r.prototype[t]=function(){var e=[].slice.call(arguments);e.unshift(this.channel),e.unshift(t),r.log.apply(r,e)}}),r.log=function(t,e,i){var o=[].slice.call(arguments,3).map(function(t){return t&&t._logger&&t._logger()||t}),n={timestamp:+new Date,level:t,channel:e,context:i,message:o};r.ignores[e]||-1===r.logLevels.indexOf(t)||r._dumpEntry(n)},r._dumpEntry=function(t){try{var e=t.level,i=t.context&&(t.context.taskName||t.context.name),o=t.context&&(t.context._logger?t.context._logger():"");"function"!=typeof console[e]?console.log.apply(console,[e.toUpperCase(),r._formatTimestamp(t.timestamp),"["+t.channel+(i?":"+i:"")+"]",o].concat(t.message)):console[e].apply(console,[r._formatTimestamp(t.timestamp),"["+t.channel+(i?":"+i:"")+"]",o].concat(t.message))}catch(t){}},r._formatTimestamp=function(t){var e=new Date(t),i=e.getMilliseconds();return i=i>100?i:i>10?"0"+i:"00"+i,e.toLocaleTimeString()+"."+i},e.exports=r},{"../lib/noop":42}]},{},[27]);
//# sourceMappingURL=dist/index.map.json
